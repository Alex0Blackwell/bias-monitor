(()=>{var t={766:t=>{t.exports={environment:"dev",api_url:"",api_key:""}}},e={};function o(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(766),e=o.n(t);class r{constructor(t=""){this.name="NotImplementedError",this.message=t}}class s{build_url(t,...e){throw new r}build_body(...t){throw new r}get_headers(){throw new r}}const n=class extends s{build_url(t){return t}build_body(t,e){return`API=${t}&Text=${e}`}get_headers(){return[["Content-type","application/x-www-form-urlencoded; charset=utf-8"]]}},a=["h1"];let c="";for(const t of a){const e=document.getElementsByTagName(t);for(const t of e)c+=t.textContent,c+=" "}c.split(" ").length>5&&async function(){const t=new n,o=t.build_url(e().api_url),r=t.build_body(e().api_key,c),s=t.get_headers(),a=await class{static async post_to_api(t,o,r=null){if("prod"!=e().environment)return 80*Math.random()-40;let s;try{s=await this._post(t,o,r)}catch(t){s="Error posting data",console.error(`${s}: ${t}`)}return s}static async _post(t,e,o){return new Promise((function(r,s){const n=new XMLHttpRequest;n.open("POST",t),o.forEach((t=>{n.setRequestHeader(...t)})),n.onload=function(){this.status>=200&&this.status<300?r(n.response):s({status:this.status,statusText:n.statusText})},n.onerror=function(){s({status:this.status,statusText:n.statusText})},n.send(e)}))}}.post_to_api(o,r,s);chrome.storage.sync.get({url_history:{}},(function(t){var e=t.url_history;e.hasOwnProperty(window.location.toString())||(e[window.location.toString()]=Math.floor(10*Math.random()));var o=0;for(const[t,r]of Object.entries(e))o+=r;var r=o/Object.keys(e).length;console.log(e),console.log(a),console.log(r),console.log("========================="),chrome.storage.sync.set({url_history:e}),chrome.storage.sync.set({activeScore:a}),chrome.storage.sync.set({averageScore:r})}))}()})()})();