(()=>{var t={766:t=>{t.exports={environment:"dev",api_url:"https://api.thebipartisanpress.com/api/endpoints/beta/robert",api_key:"gAAAAABeVpQJKRM5BqPX91XW2AKfz8pJosk182maAweJcm5ORAkkBFj__d2feG4H5KIeOKFyhUVSY_uGImiaSBCwy2L6nWxx4g=="}}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(766),e=r.n(t);class n{constructor(t=""){this.name="NotImplementedError",this.message=t}}class s{build_url(t,...e){throw new n}build_body(...t){throw new n}get_headers(){throw new n}}const o=class extends s{build_url(t){return t}build_body(t,e){return`API=${t}&Text=${e}`}get_headers(){return[["Content-type","application/x-www-form-urlencoded; charset=utf-8"]]}};!async function(){const t=function(){const t=["h1","h2","h3"];let e="";for(const r of t){const t=document.getElementsByTagName(r);for(const r of t)e+=r.textContent,e+=" "}return e}();await async function(t){const r=window.location.toString();let n=0;await function(t){return new Promise((function(e,r){chrome.storage.sync.get({url_history:{}},(function(r){const n=r.url_history.hasOwnProperty(t);e(n)}))}))}(r)||(n=await async function(t){let r;if(t.length<5)r=0;else{const n=new o,s=n.build_url(e().api_url),a=n.build_body(e().api_key,t),i=n.get_headers();r=await class{static async post_to_api(t,r,n=null){if("prod"!=e().environment)return 80*Math.random()-40;let s;try{s=await this._post(t,r,n)}catch(t){s="Error posting data",console.error(`${s}: ${t}`)}return s}static async _post(t,e,r){return new Promise((function(n,s){const o=new XMLHttpRequest;o.open("POST",t),r.forEach((t=>{o.setRequestHeader(...t)})),o.onload=function(){this.status>=200&&this.status<300?n(o.response):s({status:this.status,statusText:o.statusText})},o.onerror=function(){s({status:this.status,statusText:o.statusText})},o.send(e)}))}}.post_to_api(s,a,i)}return r}(t)),await function(t,e){return new Promise((function(r,n){chrome.storage.sync.get({url_history:{}},(function(n){let s=n.url_history;e?(s[t]=e,chrome.storage.sync.set({url_history:s})):e=s[t];let o=0;for(const[t,e]of Object.entries(s))o+=e;const a=o/Object.keys(s).length;chrome.storage.sync.set({activeScore:e}),chrome.storage.sync.set({averageScore:a}),r()}))}))}(r,n)}(t)}()})()})();