(()=>{var t={766:t=>{t.exports={environment:"prod",api_url:"https://api.thebipartisanpress.com/api/endpoints/beta/robert",api_key:"gAAAAABeVpQJKRM5BqPX91XW2AKfz8pJosk182maAweJcm5ORAkkBFj__d2feG4H5KIeOKFyhUVSY_uGImiaSBCwy2L6nWxx4g=="}}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=s(766),e=s.n(t);class n{constructor(t=""){this.name="NotImplementedError",this.message=t}}class r{build_url(t,...e){throw new n}build_body(...t){throw new n}get_headers(){throw new n}}const o=class extends r{build_url(t){return t}build_body(t,e){return`API=${t}&Text=${e}`}get_headers(){return[["Content-type","application/x-www-form-urlencoded; charset=utf-8"]]}};!async function(){const t=function(){const t=["h1"];let e="";for(const s of t){const t=document.getElementsByTagName(s);for(const s of t)e+=s.textContent,e+=" "}const s=document.body.innerText,n=parseInt(s.length/10);return e+=s.slice(n,n+400),e}();await async function(t){const s=window.location.toString();let n;await function(t){return new Promise((function(e,s){chrome.storage.sync.get({url_history:{}},(function(s){const n=s.url_history.hasOwnProperty(t);e(n)}))}))}(s)||(n=await async function(t){let s;if(t.length<5)s=0;else{const n=new o,r=n.build_url(e().api_url),a=n.build_body(e().api_key,t),i=n.get_headers();s=await class{static async post_to_api(t,s,n=null){if("prod"!=e().environment)return 80*Math.random()-40;let r;try{const e=await this._post(t,s,n);r=this._apply_cusp_transformation(e)}catch(t){console.error("Error posting data",t)}return r}static async _post(t,e,s){return new Promise((function(n,r){const o=new XMLHttpRequest;o.open("POST",t),s.forEach((t=>{o.setRequestHeader(...t)})),o.onload=function(){this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send(e)}))}static _apply_cusp_transformation(t){const e=parseFloat(t),s=t<0,n=Math.abs(e),r=5.7*Math.pow(n,.5)+5;return s?-1*r:r}}.post_to_api(r,a,i)}return s}(t)),await function(t,e){return new Promise((function(s,n){chrome.storage.sync.get({url_history:{}},(function(n){let r=n.url_history;if(null==e)e=r[t];else{r[t]=e,chrome.storage.sync.set({url_history:r});let s=0;for(const[t,e]of Object.entries(r))s+=e;const n=s/Object.keys(r).length;chrome.storage.sync.set({averageScore:n})}chrome.storage.sync.set({activeScore:e}),chrome.storage.sync.set({is_news_site:!0}),s()}))}))}(s,n)}(t)}()})()})();