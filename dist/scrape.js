(()=>{var t={766:t=>{t.exports={environment:"dev",api_url:"https://api.thebipartisanpress.com/api/endpoints/beta/robert",api_key:"gAAAAABeVpQJKRM5BqPX91XW2AKfz8pJosk182maAweJcm5ORAkkBFj__d2feG4H5KIeOKFyhUVSY_uGImiaSBCwy2L6nWxx4g=="}}},e={};function s(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,s),o.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=s(766),e=s.n(t);class r{constructor(t=""){this.name="NotImplementedError",this.message=t}}class n{build_url(t,...e){throw new r}build_body(...t){throw new r}get_headers(){throw new r}}const o=class extends n{build_url(t){return t}build_body(t,e){return`API=${t}&Text=${e}`}get_headers(){return[["Content-type","application/x-www-form-urlencoded; charset=utf-8"]]}};!async function(){const t=function(){const t=["h1","h2","h3"];let e="";for(const s of t){const t=document.getElementsByTagName(s);for(const s of t)e+=s.textContent,e+=" "}return e}();await async function(t){const s=window.location.toString();let r=0;await function(t){return new Promise((function(e,s){chrome.storage.sync.get({url_history:{}},(function(s){const r=s.url_history.hasOwnProperty(t);e(r)}))}))}(s)||(r=await async function(t){let s;if(t.length<5)s=0;else{const r=new o,n=r.build_url(e().api_url),a=r.build_body(e().api_key,t),i=r.get_headers();s=await class{static async post_to_api(t,s,r=null){if("prod"!=e().environment)return 80*Math.random()-40;let n;try{n=await this._post(t,s,r)}catch(t){n="Error posting data",console.error(`${n}: ${t}`)}return n}static async _post(t,e,s){return new Promise((function(r,n){const o=new XMLHttpRequest;o.open("POST",t),s.forEach((t=>{o.setRequestHeader(...t)})),o.onload=function(){this.status>=200&&this.status<300?r(o.response):n({status:this.status,statusText:o.statusText})},o.onerror=function(){n({status:this.status,statusText:o.statusText})},o.send(e)}))}}.post_to_api(n,a,i)}return s}(t)),await function(t,e){return new Promise((function(s,r){chrome.storage.sync.get({url_history:{}},(function(r){let n=r.url_history;if(e){n[t]=e,chrome.storage.sync.set({url_history:n});let s=0;for(const[t,e]of Object.entries(n))s+=e;const r=s/Object.keys(n).length;chrome.storage.sync.set({averageScore:r})}else e=n[t];chrome.storage.sync.set({activeScore:e}),chrome.storage.sync.set({is_news_site:!0}),s()}))}))}(s,r)}(t)}()})()})();