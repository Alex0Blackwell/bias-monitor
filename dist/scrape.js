(()=>{var t={766:t=>{t.exports={environment:"dev",api_url:"https://api.thebipartisanpress.com/api/endpoints/beta/robert",api_key:"gAAAAABeVpQJKRM5BqPX91XW2AKfz8pJosk182maAweJcm5ORAkkBFj__d2feG4H5KIeOKFyhUVSY_uGImiaSBCwy2L6nWxx4g=="}}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(766),e=r.n(t);class o{constructor(t=""){this.name="NotImplementedError",this.message=t}}class n{build_url(t,...e){throw new o}build_body(...t){throw new o}get_headers(){throw new o}}const s=class extends n{build_url(t){return t}build_body(t,e){return`API=${t}&Text=${e}`}get_headers(){return[["Content-type","application/x-www-form-urlencoded; charset=utf-8"]]}};!async function(){const t=function(){const t=["h1","h2","h3"];let e="";for(const r of t){const t=document.getElementsByTagName(r);for(const r of t)e+=r.textContent,e+=" "}return e}();await async function(t){const r=window.location.toString();if(t.length<5&&(current_bias_score=0),!await new Promise((function(t,e){chrome.storage.sync.get({url_history:{}},(function(e){const r=e.url_history.hasOwnProperty(window.location.toString());t(r)}))}))){const o=await async function(t){const r=new s,o=r.build_url(e().api_url),n=r.build_body(e().api_key,t),a=r.get_headers();return await class{static async post_to_api(t,r,o=null){if("prod"!=e().environment)return 80*Math.random()-40;let n;try{n=await this._post(t,r,o)}catch(t){n="Error posting data",console.error(`${n}: ${t}`)}return n}static async _post(t,e,r){return new Promise((function(o,n){const s=new XMLHttpRequest;s.open("POST",t),r.forEach((t=>{s.setRequestHeader(...t)})),s.onload=function(){this.status>=200&&this.status<300?o(s.response):n({status:this.status,statusText:s.statusText})},s.onerror=function(){n({status:this.status,statusText:s.statusText})},s.send(e)}))}}.post_to_api(o,n,a)}(t);await function(t,e){return new Promise((function(r,o){chrome.storage.sync.get({url_history:{}},(function(o){let n=o.url_history;n[t]=e;let s=0;for(const[t,e]of Object.entries(n))s+=e;let a=s/Object.keys(n).length;chrome.storage.sync.set({url_history:n}),chrome.storage.sync.set({activeScore:e}),chrome.storage.sync.set({averageScore:a}),r()}))}))}(r,o)}}(t)}()})()})();