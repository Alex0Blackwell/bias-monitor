(()=>{const t=["google.com"];chrome.tabs.onUpdated.addListener((async(e,c,o)=>{if("complete"===c.status)try{let c=!1;const s=await fetch("newsites.txt"),a=(await s.text()).split("\n");for(const e of a)if(!(e.length<3)&&o.url.includes(e.trim())&&t.indexOf(e.trim())<0){console.log(o.url,e),c=!0;break}c&&await chrome.scripting.executeScript({target:{tabId:e},files:["./scrape.js"]})}catch(t){console.log(t)}}))})();