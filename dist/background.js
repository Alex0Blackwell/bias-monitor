(()=>{const t=["google.com"];chrome.tabs.onUpdated.addListener((async(e,o,c)=>{if("complete"===o.status)try{let o=!1;const s=await fetch("newsites.txt"),i=(await s.text()).split("\n");for(const e of i)if(!(e.length<3)&&c.url.includes(e.trim())&&t.indexOf(e.trim())<0){console.log(c.url,e),o=!0;break}o&&await chrome.scripting.executeScript({target:{tabId:e},files:["./content.js"]})}catch(t){console.log(t)}}))})();