(()=>{const t=["google.com"];chrome.tabs.onUpdated.addListener((async(e,c,s)=>{if("complete"===c.status)try{let c=!1;const a=await fetch("newsites.txt"),i=(await a.text()).split("\n");for(const e of i)if(!(e.length<3)&&s.url.includes(e.trim())&&t.indexOf(e.trim())<0){c=!0;break}c&&await chrome.scripting.executeScript({target:{tabId:e},files:["./scrape.js"]})}catch(t){console.log(t)}}))})();