(()=>{const t=["google.com"];chrome.tabs.onUpdated.addListener((async(e,o,s)=>{if("complete"===o.status)try{let o=!1;const c=await fetch("newsites.txt"),n=(await c.text()).split("\n");for(const e of n)if(!(e.length<3)&&s.url.includes(e.trim())&&t.indexOf(e.trim())<0){o=!0;break}o?(console.log("is news"),await chrome.scripting.executeScript({target:{tabId:e},files:["./scrape.js"]})):(console.log("is not news"),await chrome.scripting.executeScript({target:{tabId:e},files:["./not_news_event.js"]})),console.log("done")}catch(t){console.log(t)}}))})();